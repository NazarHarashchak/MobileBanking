{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nharash\\\\source\\\\repos\\\\FrontEnd\\\\src\\\\MyPage\\\\Credits\\\\AddCredit.jsx\";\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { addCredit } from '../actions';\nexport default function AddCredit(props) {\n  const [showCard, setShowCard] = useState(false);\n  const [showSaveButton, setShowSave] = useState(false);\n  const [showAdd, setShowAdd] = useState(false);\n  const [type, setType] = useState(1);\n  const [monthes, setMonthes] = useState(6);\n  const [sum, setSum] = useState(0);\n  const [fullSum, setFullSum] = useState(0);\n  const [monthPay, setMonthPay] = useState(0);\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const dispatch = useDispatch();\n\n  function discard() {\n    setShowCard(false);\n    setShowAdd(false);\n    setShowSave(false);\n    setType(1);\n    setMonthes(6);\n    setSum(0);\n    setFullSum(0);\n    setMonthPay(0);\n    setCardNumber(\"\");\n  }\n\n  function proceed() {\n    if (!type || type === \"\" || !monthes || monthes === \"\" || !sum || sum === \"\") {\n      window.alert(\"Потрібно заповнити всі поля!\");\n      return;\n    }\n\n    switch (type) {\n      case 1:\n        if (sum > 1500000) {\n          window.alert(\"Сума перевищує максимально дозволену!\");\n          return;\n        }\n\n        break;\n\n      case 2:\n        if (sum > 1000000) {\n          window.alert(\"Сума перевищує максимально дозволену!\");\n          return;\n        }\n\n        break;\n\n      case 3:\n        if (sum > 50000) {\n          window.alert(\"Сума перевищує максимально дозволену!\");\n          return;\n        }\n\n        break;\n\n      case 4:\n        if (sum > 120000) {\n          window.alert(\"Сума перевищує максимально дозволену!\");\n          return;\n        }\n\n        break;\n\n      default:\n        return;\n    }\n\n    setShowSave(true);\n    let lastSum = 0;\n\n    switch (type) {\n      case 1:\n        lastSum = sum * Math.pow(1 + 8 / 100, monthes / 12);\n        setFullSum(lastSum);\n        setMonthPay(lastSum / monthes);\n        break;\n\n      case 2:\n        lastSum = sum * Math.pow(1 + 12 / 100, monthes / 12);\n        setFullSum(lastSum);\n        setMonthPay(lastSum / monthes);\n        break;\n\n      case 3:\n        lastSum = sum * Math.pow(1 + 25 / 100, monthes / 12);\n        setFullSum(lastSum);\n        setMonthPay(lastSum / monthes);\n        break;\n\n      case 4:\n        lastSum = sum * Math.pow(1 + 22 / 100, monthes / 12);\n        setFullSum(lastSum);\n        setMonthPay(lastSum / monthes);\n        setShowCard(true);\n        break;\n\n      default:\n        return;\n    }\n  }\n\n  function save() {\n    let userDB = JSON.parse(localStorage.getItem(\"BankingUser\"));\n\n    if (!userDB) {\n      userDB = JSON.parse(sessionStorage.getItem(\"BankingUser\"));\n    }\n\n    let body = {\n      creditTypeID: type,\n      userID: userDB.id,\n      monthCount: monthes,\n      moneyLeft: fullSum,\n      minDraft: monthPay,\n      cardNumber: cardNumber,\n      creditSum: sum\n    };\n    dispatch(addCredit(body)).then(result => {\n      if (result.success) {\n        window.alert(\"Успішно створено!\");\n        discard();\n      } else {\n        window.alert(result.message);\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addCredit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn linkButton\",\n    onClick: () => setShowAdd(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \" \\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"))), showAdd ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, \"\\u0422\\u0438\\u043F \\u043A\\u0440\\u0435\\u0434\\u0438\\u0442\\u0443\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    onChange: event => {\n      setType(parseInt(event.target.value));\n      setShowSave(false);\n      setShowCard(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0430 \\u0436\\u0438\\u0442\\u043B\\u043E\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0430 \\u043C\\u0430\\u0448\\u0438\\u043D\\u0443\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  }, \"\\u0413\\u043E\\u0442\\u0456\\u0432\\u043A\\u043E\\u0432\\u0438\\u0439\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u043A\\u0443\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, \"\\u0421\\u0442\\u0440\\u043E\\u043A \\u0432 \\u043C\\u0456\\u0441\\u044F\\u0446\\u044F\\u0445\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    onChange: event => {\n      setMonthes(parseInt(event.target.value));\n      setShowSave(false);\n      setShowCard(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, \"6 \\u043C\\u0456\\u0441\\u044F\\u0446\\u0456\\u0432\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 37\n    }\n  }, \"12 \\u043C\\u0456\\u0441\\u044F\\u0446\\u0456\\u0432\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"18\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 37\n    }\n  }, \"18 \\u043C\\u0456\\u0441\\u044F\\u0446\\u0456\\u0432\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, \"24 \\u043C\\u0456\\u0441\\u044F\\u0446\\u0456\\u0432\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"48\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, \"48 \\u043C\\u0456\\u0441\\u044F\\u0446\\u0456\\u0432\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"96\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  }, \"96 \\u043C\\u0456\\u0441\\u044F\\u0446\\u0456\\u0432\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, \"\\u0421\\u0443\\u043C\\u0430 (\\u0433\\u0440\\u043D)\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onChange: event => {\n      setSum(parseFloat(event.target.value));\n      setShowSave(false);\n      setShowCard(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 33\n    }\n  }))), !showSaveButton ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group buttons row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u0432\\u0436\\u0438\\u0442\\u0438\",\n    className: \"btn linkButton\",\n    onClick: () => proceed(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 41\n    }\n  }))) : null, showCard ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group buttons row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 41\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0440\\u0442\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    onChange: event => {\n      setCardNumber(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 41\n    }\n  }))) : null, showSaveButton ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group buttons row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 41\n    }\n  }, \"\\u0417\\u0430\\u0433\\u0430\\u043B\\u044C\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430 \\u043A\\u0440\\u0435\\u0434\\u0438\\u0442\\u0443\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    defaultValue: fullSum,\n    className: \"form-control\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 41\n    }\n  }, \"\\u0429\\u043E\\u043C\\u0456\\u0441\\u044F\\u0447\\u043D\\u0438\\u0439 \\u043F\\u043B\\u0430\\u0442\\u0456\\u0436\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    defaultValue: monthPay,\n    className: \"form-control\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438\",\n    className: \"btn linkButton\",\n    onClick: () => save(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 41\n    }\n  }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group buttons row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\",\n    className: \"btn linkButton\",\n    onClick: () => discard(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  })))) : null);\n}","map":{"version":3,"sources":["C:/Users/nharash/source/repos/FrontEnd/src/MyPage/Credits/AddCredit.jsx"],"names":["React","useState","useDispatch","addCredit","AddCredit","props","showCard","setShowCard","showSaveButton","setShowSave","showAdd","setShowAdd","type","setType","monthes","setMonthes","sum","setSum","fullSum","setFullSum","monthPay","setMonthPay","cardNumber","setCardNumber","dispatch","discard","proceed","window","alert","lastSum","Math","pow","save","userDB","JSON","parse","localStorage","getItem","sessionStorage","body","creditTypeID","userID","id","monthCount","moneyLeft","minDraft","creditSum","then","result","success","message","event","parseInt","target","value","parseFloat"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addCredit } from '../actions';\r\n\r\nexport default function AddCredit(props) {\r\n\r\n    const [showCard, setShowCard] = useState(false);\r\n    const [showSaveButton, setShowSave] = useState(false);\r\n    const [showAdd, setShowAdd] = useState(false);\r\n    const [type, setType] = useState(1);\r\n    const [monthes, setMonthes] = useState(6);\r\n    const [sum, setSum] = useState(0);\r\n    const [fullSum, setFullSum] = useState(0);\r\n    const [monthPay, setMonthPay] = useState(0);\r\n    const [cardNumber, setCardNumber] = useState(\"\");\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    function discard() {\r\n        setShowCard(false);\r\n        setShowAdd(false);\r\n        setShowSave(false);\r\n        setType(1);\r\n        setMonthes(6);\r\n        setSum(0);\r\n        setFullSum(0);\r\n        setMonthPay(0);\r\n        setCardNumber(\"\");\r\n    }\r\n\r\n    function proceed() {\r\n        if (!type || type === \"\"\r\n            || !monthes || monthes === \"\"\r\n            || !sum || sum === \"\") {\r\n            window.alert(\"Потрібно заповнити всі поля!\");\r\n            return;\r\n        }\r\n\r\n        switch (type) {\r\n            case 1:\r\n                if (sum > 1500000) {\r\n                    window.alert(\"Сума перевищує максимально дозволену!\");\r\n                    return;\r\n                }\r\n                break;\r\n            case 2:\r\n                if (sum > 1000000) {\r\n                    window.alert(\"Сума перевищує максимально дозволену!\");\r\n                    return;\r\n                }\r\n                break;\r\n            case 3:\r\n                if (sum > 50000) {\r\n                    window.alert(\"Сума перевищує максимально дозволену!\");\r\n                    return;\r\n                }\r\n                break;\r\n            case 4:\r\n                if (sum > 120000) {\r\n                    window.alert(\"Сума перевищує максимально дозволену!\");\r\n                    return;\r\n                }\r\n                break;\r\n            default: return;\r\n        }\r\n\r\n        setShowSave(true);\r\n\r\n        let lastSum = 0;\r\n\r\n        switch (type) {\r\n            case 1:\r\n                lastSum = sum * Math.pow((1 + 8 / 100), monthes / 12);\r\n                setFullSum(lastSum);\r\n                setMonthPay(lastSum / monthes);\r\n                break;\r\n            case 2:\r\n                lastSum = sum * Math.pow((1 + 12 / 100), monthes / 12);\r\n                setFullSum(lastSum);\r\n                setMonthPay(lastSum / monthes);\r\n                break;\r\n            case 3:\r\n                lastSum = sum * Math.pow((1 + 25 / 100), monthes / 12);\r\n                setFullSum(lastSum);\r\n                setMonthPay(lastSum / monthes);\r\n                break;\r\n            case 4:\r\n                lastSum = sum * Math.pow((1 + 22 / 100), monthes / 12);\r\n                setFullSum(lastSum);\r\n                setMonthPay(lastSum / monthes);\r\n                setShowCard(true)\r\n                break;\r\n            default: return;\r\n        }\r\n    }\r\n\r\n    function save() {\r\n        let userDB = JSON.parse(localStorage.getItem(\"BankingUser\"));\r\n        if (!userDB) {\r\n            userDB = JSON.parse(sessionStorage.getItem(\"BankingUser\"));\r\n        }\r\n        let body = {\r\n            creditTypeID: type,\r\n            userID: userDB.id,\r\n            monthCount: monthes,\r\n            moneyLeft: fullSum,\r\n            minDraft: monthPay,\r\n            cardNumber: cardNumber,\r\n            creditSum: sum\r\n        }\r\n\r\n        dispatch(addCredit(body)).then((result) => {\r\n            if (result.success) {\r\n                window.alert(\"Успішно створено!\");\r\n                discard();\r\n            }\r\n            else {\r\n                window.alert(result.message);\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"addCredit\">\r\n            <div className=\"addButton\">\r\n                <button className=\"btn linkButton\" onClick={() => setShowAdd(true)}>\r\n                    <i className=\"fa fa-plus\"></i>\r\n                    <span> Додати</span>\r\n                </button>\r\n            </div>\r\n            {\r\n                showAdd ?\r\n                    <div className=\"addBody\">\r\n                        <div className=\"form-group row\">\r\n                            <div className=\"col-sm-4\">\r\n                                <label>\r\n                                    Тип кредиту\r\n                                </label>\r\n                                <select className=\"form-control\"\r\n                                    onChange={(event) => { setType(parseInt(event.target.value)); setShowSave(false); setShowCard(false); }}>\r\n                                    <option value=\"1\">На житло</option>\r\n                                    <option value=\"2\">На машину</option>\r\n                                    <option value=\"3\">Готівковий</option>\r\n                                    <option value=\"4\">На картку</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col-sm-4\">\r\n                                <label>\r\n                                    Строк в місяцях\r\n                                </label>\r\n                                <select className=\"form-control\"\r\n                                    onChange={(event) => { setMonthes(parseInt(event.target.value)); setShowSave(false); setShowCard(false); }}>\r\n                                    <option value=\"6\">6 місяців</option>\r\n                                    <option value=\"12\">12 місяців</option>\r\n                                    <option value=\"18\">18 місяців</option>\r\n                                    <option value=\"24\">24 місяців</option>\r\n                                    <option value=\"48\">48 місяців</option>\r\n                                    <option value=\"96\">96 місяців</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col-sm-4\">\r\n                                <label>\r\n                                    Сума (грн)\r\n                                </label>\r\n                                <input type=\"text\" className=\"form-control\"\r\n                                    onChange={(event) => { setSum(parseFloat(event.target.value)); setShowSave(false); setShowCard(false); }} />\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            !showSaveButton ?\r\n                                <div className=\"form-group buttons row\">\r\n                                    <div className=\"col-sm-12\">\r\n                                        <input type=\"button\" value=\"Продовжити\" className=\"btn linkButton\" onClick={() => proceed()} />\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                        }\r\n                        {\r\n                            showCard ?\r\n                                <div className=\"form-group buttons row\">\r\n                                    <div className=\"col-sm-12\">\r\n                                        <label>\r\n                                            Введіть номер картки\r\n                                        </label>\r\n                                        <input type=\"text\" className=\"form-control\"\r\n                                            onChange={(event) => { setCardNumber(event.target.value) }} />\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                        }\r\n                        {\r\n                            showSaveButton ?\r\n                                <div className=\"form-group buttons row\">\r\n                                    <div className=\"col-sm-4\">\r\n                                        <label>\r\n                                            Загальна сума кредиту\r\n                                        </label>\r\n                                        <input type=\"text\" defaultValue={fullSum} className=\"form-control\" disabled />\r\n                                    </div>\r\n                                    <div className=\"col-sm-4\">\r\n                                        <label>\r\n                                            Щомісячний платіж\r\n                                        </label>\r\n                                        <input type=\"text\" defaultValue={monthPay} className=\"form-control\" disabled />\r\n                                    </div>\r\n                                    <div className=\"col-sm-4\">\r\n                                        <input type=\"button\" value=\"Зберегти\" className=\"btn linkButton\" onClick={() => save()} />\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                null\r\n                        }\r\n                        <div className=\"form-group buttons row\">\r\n                            <div className=\"col-sm-12\">\r\n                                <input type=\"button\" value=\"Скасувати\" className=\"btn linkButton\" onClick={() => discard()} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    null\r\n            }\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}